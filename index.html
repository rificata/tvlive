<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>VIBE TV - Command Center</title>
    
    <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --neon-green: #00ff88; --dark-bg: #0a0a0a; --card-bg: #161616; }
        body { background-color: var(--dark-bg); color: #fff; font-family: 'Inter', sans-serif; }
        
        .header-vibe { padding: 30px 0; border-bottom: 1px solid #222; margin-bottom: 30px; }
        .header-vibe h1 { font-weight: 800; color: var(--neon-green); text-transform: uppercase; letter-spacing: -2px; }

        #player-container { 
            background: #000; border-radius: 15px; overflow: hidden;
            box-shadow: 0 0 40px rgba(0,0,0,0.9); border: 1px solid #333;
            margin-bottom: 40px; aspect-ratio: 16/9;
        }

        .channel-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); 
            gap: 15px; padding-bottom: 50px;
        }

        .channel-card {
            background: var(--card-bg); border: 1px solid #222; border-radius: 12px;
            padding: 12px; cursor: pointer; transition: 0.25s ease;
            text-align: center; display: flex; flex-direction: column; align-items: center;
        }

        .channel-card:hover {
            border-color: var(--neon-green); transform: translateY(-5px);
            background: #1f1f1f; box-shadow: 0 10px 20px rgba(0,255,136,0.1);
        }

        .channel-card img { width: 100%; height: 60px; object-fit: contain; margin-bottom: 8px; filter: grayscale(20%); }
        .channel-card:hover img { filter: grayscale(0%); }
        .channel-card span { font-size: 11px; font-weight: 700; color: #888; text-transform: uppercase; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 100%; }
        .channel-card:hover span { color: #fff; }

        /* Estilo para canais que não carregam (fallback) */
        .vjs-error-display { background: rgba(0,0,0,0.8) !important; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-vibe text-center">
        <h1>VIBE TV <span class="fs-5 text-white-50">Master Playlist</span></h1>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div id="player-container">
                <div id="player"></div>
            </div>
        </div>
    </div>

    <div class="channel-grid" id="grid">
        </div>
</div>

<script>
    // LISTA DE CANAIS EXTRAÍDA DA TUA M3U
    const canais = [
        { n: "RTP 1", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP1.png", u: "https://streaming-live.rtp.pt/liverepeater/smil:rtp1HD.smil/playlist.m3u8" },
        { n: "RTP 2", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP2.png", u: "https://streaming-live.rtp.pt/liverepeater/rtp2HD.smil/playlist.m3u8" },
        { n: "SIC", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC.png", u: "https://d1zx6l1dn8vaj5.cloudfront.net/out/v1/b89cc37caa6d418eb423cf092a2ef970/index.m3u8" },
        { n: "TVI", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI.png", u: "https://video-auth6.iol.pt/live_tvi/live_tvi/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9MS8yOS8yMDI2IDEwOjExOjE1IFBNJmhhc2hfdmFsdWU9U0QzNTd0K08zd0V6ZGpldzV5K3hzdz09JnZhbGlkbWludXRlcz0xNDQwJmlkPTNkOTcyNzRkLTFkOGUtNDhjNi1iZDQ0LTEyZTFhMWFkODE3Nw==" },
        { n: "RTP Notícias", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/rtpnoticias.png", u: "https://streaming-live.rtp.pt/liverepeater/smil:rtpnHD.smil/playlist.m3u8" },
        { n: "SIC Notícias", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC-Notícias.png", u: "https://sicnot.live.impresa.pt/sicnot.m3u8" },
        { n: "CNN Portugal", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CNN-Portugal.png", u: "https://video-auth7.iol.pt/live_cnn/live_cnn/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9MS8yOS8yMDI2IDEwOjExOjE1IFBNJmhhc2hfdmFsdWU9QTJGSjRXQzBUZS9uOVhac2VGMlVRUT09JnZhbGlkbWludXRlcz0xNDQwJmlkPTgyY2VhYTdmLWU2ZDQtNDcxOC1iODk3LWFjOGY4Njc0ZjYyYw==" },
        { n: "Euronews PT", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://38cf202f635c4e6d9a9ecd1dc805222a.mediatailor.eu-west-1.amazonaws.com/v1/manifest/0547f18649bd788bec7b67b746e47670f558b6b2/production-LiveChannel-6572/aa7d84c5-ed1b-4706-aa89-11c525faf07d/5.m3u8" },
        { n: "RTP Memória", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Memória.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpmem.smil/playlist.m3u8" },
        { n: "Porto Canal", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Porto-Canal.png", u: "https://pull-live-156-1.global.ssl.fastly.net/pc5865dc25400thmb-ea6bf03b14fa318f7133/pc1-jhrgyuoqe5865db-68tkgb14fa318f7133f03.smil/playlist.m3u8" },
        { n: "V+ TVI", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/vmaistvi.png", u: "https://video-auth2.iol.pt/live_vmais/live_vmais/edge_servers/vmais-720p/playlist.m3u8" },
        { n: "TVI Ficção", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI-Ficção.png", u: "https://video-auth1.iol.pt/live_tvi_ficcao/live_tvi_ficcao/edge_servers/tvificcao-720p/playlist.m3u8" },
        { n: "RTP Açores", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Açores.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpacoresHD.smil/playlist.m3u8" },
        { n: "RTP Madeira", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Madeira.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpmadeira.smil/playlist.m3u8" },
        { n: "RecordTV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Record-TV.png", u: "https://viamotionhsi.netplus.ch/live/eds/rederecordinternacional/browser-HLS8/rederecordinternacional.m3u8" },
        { n: "TV Cultura", l: "https://i.ibb.co/nm0jXMM/cultura-3x.png", u: "https://player-tvcultura.stream.uol.com.br/live/tvcultura.m3u8" },
        { n: "ARTV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/ARTV.png", u: "https://playout175.livextend.cloud/livenlin4/_definst_/2liveartvpub2/playlist.m3u8" },
        { n: "CNN Brasil", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CNN-Brasil.png", u: "https://d25usgadhphvwi.cloudfront.net/hls/main.m3u8" },
        { n: "TDM Macau", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TDM-Teledifusão_de_Macau.png", u: "https://globallive.tdm.com.mo/ch2/ch2.live/playlist.m3u8" },
        { n: "Sky News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Sky-News.png", u: "https://linear417-gb-hls1-prd-ak.cdn.skycdp.com/100e/Content/HLS_001_1080_30/Live/channel(skynews)/index_1080-30.m3u8" },
        { n: "La 1 (ES)", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/La1.png", u: "https://rtvelivestream.rtve.es/rtvesec/la1/la1_main_dvr.m3u8" },
        { n: "TVE 24h", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVE-24h.png", u: "https://rtvelivestream.rtve.es/rtvesec/24h/24h_main_dvr.m3u8" }
    ];

    const grid = document.getElementById('grid');
    
    // Gerar a Grelha
    canais.forEach(canal => {
        const div = document.createElement('div');
        div.className = 'channel-card';
        div.onclick = () => mudar(canal.u);
        div.innerHTML = `<img src="${canal.l}" onerror="this.src='https://via.placeholder.com/100?text=TV'"><span>${canal.n}</span>`;
        grid.appendChild(div);
    });

    // Inicializar Player
    var player = new Clappr.Player({
        source: canais[0].u,
        parentId: "#player",
        width: "100%",
        height: "100%",
        autoPlay: false,
        playback: { hlsjsConfig: { xhrSetup: function(xhr) { xhr.withCredentials = false; } } }
    });

    function mudar(url) {
        player.load(url);
        player.play();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>