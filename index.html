<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>TV Player</title>
    
    <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clappr-youtube-playback@latest/dist/clappr-youtube-playback.min.js"></script>
    
    <style>
        :root { 
            --bg-color: #000;
            --sidebar-bg: #101010;
            --highlight: #222;
        }
        
        * { box-sizing: border-box; }

        body { 
            margin: 0; padding: 0; 
            background-color: var(--bg-color); 
            height: 100vh; 
            overflow: hidden; 
            display: flex;
            font-family: sans-serif;
        }

        /* ÁREA DO PLAYER (ESQUERDA) */
        #player-wrapper {
            flex: 1; 
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative; /* Importante para o player recriar corretamente */
        }

        /* ÁREA DOS CANAIS (DIREITA) */
        #sidebar {
            width: 140px; 
            background: var(--sidebar-bg);
            border-left: 1px solid #222;
            height: 100%;
            overflow-y: auto; 
            padding: 10px;
        }

        #sidebar::-webkit-scrollbar { width: 5px; }
        #sidebar::-webkit-scrollbar-track { background: #000; }
        #sidebar::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }

        .channel-grid {
            display: grid;
            grid-template-columns: 1fr; 
            gap: 10px;
        }

        .channel-item {
            width: 100%;
            height: 80px; 
            background: #1a1a1a;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .channel-item:hover {
            background: #252525;
            border-color: #555;
            transform: scale(1.02);
        }

        .channel-item img {
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            body { flex-direction: column; }
            #player-wrapper { height: 40vh; flex: none; }
            #sidebar { width: 100%; height: 60vh; border-left: none; border-top: 1px solid #333; }
            .channel-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); }
            .channel-item { height: 70px; }
        }
    </style>
</head>
<body>

    <div id="player-wrapper">
        <div id="player"></div>
    </div>

    <div id="sidebar">
        <div class="channel-grid" id="lista-canais"></div>
    </div>

<script>
    // A tua lista de canais
    const canais = [
        { n: "RTP 1", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP1.png", u: "https://streaming-live.rtp.pt/liverepeater/smil:rtp1HD.smil/playlist.m3u8" },
        { n: "RTP 2", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP2.png", u: "https://streaming-live.rtp.pt/liverepeater/rtp2HD.smil/playlist.m3u8" },
        { n: "SIC", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC.png", u: "https://d1zx6l1dn8vaj5.cloudfront.net/out/v1/b89cc37caa6d418eb423cf092a2ef970/index.m3u8" },
        { n: "TVI", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI.png", u: "https://video-auth6.iol.pt/live_tvi/live_tvi/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9MS8yOS8yMDI2IDEwOjExOjE1IFBNJmhhc2hfdmFsdWU9U0QzNTd0K08zd0V6ZGpldzV5K3hzdz09JnZhbGlkbWludXRlcz0xNDQwJmlkPTNkOTcyNzRkLTFkOGUtNDhjNi1iZDQ0LTEyZTFhMWFkODE3Nw==/" },
        { n: "RTP Notícias", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/rtpnoticias.png", u: "https://streaming-live.rtp.pt/liverepeater/smil:rtpnHD.smil/playlist.m3u8" },
        { n: "SIC Notícias", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC-Notícias.png", u: "https://sicnot.live.impresa.pt/sicnot.m3u8" },
        { n: "CNN Portugal", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CNN-Portugal.png", u: "https://video-auth7.iol.pt/live_cnn/live_cnn/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9MS8yOS8yMDI2IDEwOjExOjE1IFBNJmhhc2hfdmFsdWU9QTJGSjRXQzBUZS9uOVhac2VGMlVRUT09JnZhbGlkbWludXRlcz0xNDQwJmlkPTgyY2VhYTdmLWU2ZDQtNDcxOC1iODk3LWFjOGY4Njc0ZjYyYw==/" },
        { n: "CNN Brasil", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CNN-Brasil.png", u: "https://d25usgadhphvwi.cloudfront.net/hls/main.m3u8" },
        { n: "Euronews PT", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://38cf202f635c4e6d9a9ecd1dc805222a.mediatailor.eu-west-1.amazonaws.com/v1/manifest/0547f18649bd788bec7b67b746e47670f558b6b2/production-LiveChannel-6572/aa7d84c5-ed1b-4706-aa89-11c525faf07d/5.m3u8" },
        { n: "ARTV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/ARTV.png", u: "https://playout175.livextend.cloud/livenlin4/_definst_/2liveartvpub2/playlist.m3u8" },
        { n: "RTP Memória", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Memória.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpmem.smil/playlist.m3u8" },
        { n: "RTP Açores", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Açores.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpacoresHD.smil/playlist.m3u8" },
        { n: "RTP Madeira", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Madeira.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpmadeira.smil/playlist.m3u8" },
        { n: "RTP África", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-África.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpafrica.smil/playlist.m3u8" },
        { n: "RTP Internacional", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RTP-Internacional.png", u: "https://streaming-live.rtp.pt/liverepeater/rtpi.smil/playlist.m3u8" },
        { n: "TVI Internacional", l: "https://github.com/LITUATUI/M3UPT/raw/main/logos/TVI-Internacional.png", u: "https://video-auth6.iol.pt/live_tvi_internacional/live_tvi_internacional/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9MS8yOS8yMDI2IDEwOjExOjE2IFBNJmhhc2hfdmFsdWU9UGFhVndjamVvN1hUNlpDS2g5T2FvUT09JnZhbGlkbWludXRlcz0xNDQwJmlkPTIyOGU5MzA2LWQ2ZDktNDQ3MC04ZmNlLTlkOWVmYmE3MzU1Ng==/" },
        { n: "TVI África", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI_África.png", u: "https://video-auth4.iol.pt/live_tvi_africa/live_tvi_africa/edge_servers/tviafrica-480p/playlist.m3u8" },
        { n: "V+ TVI", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/vmaistvi.png", u: "https://video-auth2.iol.pt/live_vmais/live_vmais/edge_servers/vmais-720p/playlist.m3u8" },
        { n: "TVI Ficção", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI-Ficção.png", u: "https://video-auth1.iol.pt/live_tvi_ficcao/live_tvi_ficcao/edge_servers/tvificcao-720p/playlist.m3u8" },
        { n: "TVI Reality", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVI-Reality.png", u: "https://video-auth4.iol.pt/live_tvi_reality/live_tvi_reality/edge_servers/tvireality-720_passthrough/playlist.m3u8" },
        { n: "SIC Replay", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC-Replay.png", u: "https://production-fast-sic.content.okast.tv/fa2e8c4385712f9a7dce4ff2dcebac2e/channels/d9070446-8448-455e-8075-773b1ba12562/d47eae0f-ad77-414a-9a1d-2a6628ba18c3/media_.m3u8" },
        { n: "SIC Alta Definição", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/SIC-Alta-Definição.png", u: "https://production-fast-sic.content.okast.tv/fa2e8c4385712f9aa54bbe52b1bd9b6b/channels/d9070446-8448-455e-8075-773b1ba12562/fc831b20-f252-4e7d-8cc5-2d05f4d43c1c/media_.m3u8" },
        { n: "Porto Canal", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Porto-Canal.png", u: "https://pull-live-156-1.global.ssl.fastly.net/pc5865dc25400thmb-ea6bf03b14fa318f7133/pc1-jhrgyuoqe5865db-68tkgb14fa318f7133f03.smil/playlist.m3u8" },
        { n: "Fama TV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Fama-TV.jpg", u: "https://tv2.fastcast4u.com:3310/live/famatvlive.m3u8" },
        { n: "RecordTV Europa", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Record-TV.png", u: "https://viamotionhsi.netplus.ch/live/eds/rederecordinternacional/browser-HLS8/rederecordinternacional.m3u8" },
        { n: "BraziTV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/BraziTV.png", u: "https://cbtvnow.com:5866/hls/livest2024.m3u8" },
        { n: "TV Câmara", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TV-camara.png", u: "https://stream3.camara.gov.br/tv1/manifest.m3u8" },
        { n: "TV Cultura", l: "https://i.ibb.co/nm0jXMM/cultura-3x.png", u: "https://player-tvcultura.stream.uol.com.br/live/tvcultura.m3u8" },
        { n: "AgroBrasil TV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/AgroBrasil-TV.png", u: "https://live.agrobrasiltv.com.br/memfs/0f1f8f3d-96cb-4792-babe-c2169f30a577_output_0.m3u8" },
        { n: "TDM Macau (PT)", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TDM-Teledifusão_de_Macau.png", u: "https://globallive.tdm.com.mo/ch2/ch2.live/playlist.m3u8" },
        { n: "TDM Macau (CN)", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TDM-Teledifusão_de_Macau.png", u: "https://globallive.tdm.com.mo/ch1/ch1.live/playlist.m3u8" },
        { n: "TV Zimbo", l: "https://i.imgur.com/SFD8CBh.png", u: "https://sgn-cdn-video.vods2africa.com/Tv-Zimbo/index.fmp4.m3u8" },
        { n: "TVM", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVM.png", u: "http://online.tvm.co.mz:1935/live/Channel1.smil/playlist.m3u8" },
        { n: "TVM Internacional", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVMI.png", u: "http://online.tvm.co.mz:1935/live/Channel2.smil/playlist.m3u8" },
        { n: "Muzangala TV", l: "https://i.imgur.com/fBeaJoS.png", u: "https://5cf4a2c2512a2.streamlock.net/tvmuzangala/tvmuzangala/playlist.m3u8" },
        { n: "Darkflix", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Darkflix.png", u: "https://video01.soultv.com.br/darkflix/darkflix/playlist.m3u8" },
        { n: "Cinemonde", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Cinemonde.png", u: "https://video01.soultv.com.br/cinemonde/cinemonde/playlist.m3u8" },
        { n: "MyTime Movie", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/My-Time-Movie-Network.png", u: "https://appletree-mytime-samsungbrazil.amagi.tv/playlist.m3u8" },
        { n: "MovieSphere", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/MovieSphere.jpg", u: "https://moviesphereuk-samsunguk.amagi.tv/1080p-vtt/index.m3u8" },
        { n: "Rakuten Viki", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Rakuten_Viki.png", u: "https://fd18f1cadd404894a31a3362c5f319bd.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/RakutenTV-eu_RakutenViki-1/playlist.m3u8" },
        { n: "Shemaroo Bollywood", l: "https://i.imgur.com/TFxLj80.png", u: "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg00864-shemarooenterta-shemabollywood-ono/playlist.m3u8" },
        { n: "Real Wild", l: "https://i.imgur.com/T9HHmAO.png", u: "https://lds-realwild-vizio.amagi.tv/playlist.m3u8" },
        { n: "Italian Fishing TV", l: "https://i.imgur.com/qrn6tUO.png", u: "https://fms.premio.link/fishingtv/playlist.m3u8" },
        { n: "Euronews EN", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://www.youtube.com/watch?v=pykpO5kQJ98" },
        { n: "Euronews ES", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://www.youtube.com/live/O9mOtdZ-nSk" },
        { n: "Euronews IT", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://www.youtube.com/live/pUcmpyynASM" },
        { n: "Euronews FR", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://www.youtube.com/live/NiRIbKwAejk" },
        { n: "Euronews DE", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/euronews-logo-225x225.png", u: "https://www.youtube.com/live/CQ3KsEbsYHs" },
        { n: "teleSUR", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Telesur.png", u: "https://mblesmain01.telesur.ultrabase.net/mbliveMain/hd/playlist.m3u8" },
        { n: "HispanTV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/HispanTV.png", u: "https://live.presstv.ir/hls/hispantv.m3u8" },
        { n: "Press TV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Press-TV.png", u: "https://live.presstv.ir/hls/presstv.m3u8" },
        { n: "Free Speech", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Free-Speech-TV.webp", u: "https://edge.fstv-live-linear-channel.top.comcast.net/Content/HLS_HLSv3/Live/channel(b168a609-19c1-2203-ae1d-6b9726f05e67)/index.m3u8" },
        { n: "RT News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/RT-News.png", u: "https://rumble-foxo.cdn.rumble.cloud/live/hr6yv36f/slot-4/mxtm-wdfe_1080p/playlist.m3u8" },
        { n: "CGTN", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CGTN.png", u: "https://english-livetx.cgtn.com/hls/yypdyyctzb_hd.m3u8" },
        { n: "CGTN Español", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CGTN-Español.png", u: "https://espanol-livews.cgtn.com/hls/LSveOGBaBw41Ea7ukkVAUdKQ220802LSTexu6xAuFH8VZNBLE1ZNEa220802cd/playlist.m3u8" },
        { n: "CGTN Français", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CGTN-Français.png", u: "https://francais-livews.cgtn.com/hls/LSvev95OuFZtKLc6CeKEFYXj220802LSTeV6PO0Ut9r71Uq3k5goCA220802cd/playlist.m3u8" },
        { n: "Al Jazeera", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Al-Jazeera.png", u: "https://live-hls-apps-aje-fa.getaj.net/AJE/index.m3u8" },
        { n: "France 24 EN", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/France-24.png", u: "https://live.france24.com/hls/live/2037218/F24_EN_HI_HLS/master_5000.m3u8" },
        { n: "France 24 ES", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/France-24.png", u: "https://live.france24.com/hls/live/2037220/F24_ES_HI_HLS/master_5000.m3u8" },
        { n: "France 24 FR", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/France-24.png", u: "https://live.france24.com/hls/live/2037179/F24_FR_HI_HLS/master_5000.m3u8" },
        { n: "France 24 AR", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/France-24.png", u: "https://live.france24.com/hls/live/2037222-b/F24_AR_HI_HLS/master_5000.m3u8" },
        { n: "BBC News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/BBC-World-News.png", u: "https://vs-hls-push-ww-live.akamaized.net/x=4/i=urn:bbc:pips:service:bbc_news_channel_hd/t=3840/v=pv14/b=5070016/main.m3u8" },
        { n: "Sky News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Sky-News.png", u: "https://linear417-gb-hls1-prd-ak.cdn.skycdp.com/100e/Content/HLS_001_1080_30/Live/channel(skynews)/index_1080-30.m3u8" },
        { n: "Africanews", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Africa_news.png", u: "https://c3c275b999764df8a2dd55ffe2996818.mediatailor.eu-west-1.amazonaws.com/v1/manifest/0547f18649bd788bec7b67b746e47670f558b6b2/production-LiveChannel-6576/5a098a95-cc1e-4e08-8785-65fe2ac4dda3/5.m3u8" },
        { n: "TRT World", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TRT_World.svg", u: "https://tv-trtworld.medya.trt.com.tr/master.m3u8" },
        { n: "CNN", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CNN.png", u: "https://d3bp6dwmpbdajl.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-ury0meh5m4nzm/index.m3u8" },
        { n: "Fox News", l: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Fox_News_Channel_logo.svg/512px-Fox_News_Channel_logo.svg.png", u: "https://stream.livenewsplay.com:9443/hls/foxnews/foxsd.m3u8" },
        { n: "LiveNOW Fox", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/LiveNOW_from_Fox.webp", u: "https://d3tlzddkbbpp5n.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-9uzjfw11uj9nn/LiveNOW_from_FOX.m3u8" },
        { n: "ABC News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/ABC-News.png", u: "https://content.uplynk.com/channel/3324f2467c414329b3b0cc5cd987b6be.m3u8" },
        { n: "CBS News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/CBSN.png", u: "https://live-oneapp-prd-news.akamaized.net/Content/CMAF_OL2-CTR-4s/Live/channel(nnn)/master.mpd" },
        { n: "NBC News", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/NBC-News-Now.png", u: "https://live-oneapp-prd-news.akamaized.net/Content/CMAF_OL1-CTR-4s/Live/channel(nnn)/master.mpd" },
        { n: "NTD News", l: "https://www.ntd.com/images/ENTD180.jpeg", u: "https://amg17596-amg17596c1-ntdtv-worldwide-3276.playouts.now.amagi.tv/playlist/amg17596-newtangdynastytelevision-ntdtv-ntdtvworldwide/playlist.m3u8" },
        { n: "Bloomberg", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Bloomberg.png", u: "https://86ebec83.wurl.com/master/f36d25e7e52f1ba8d7e56eb859c636563214f541/UmFrdXRlblRWLWV1X0Jsb29tYmVyZ1RWUGx1c19ITFM/playlist.m3u8" },
        { n: "NHK World", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/NHK-World.png", u: "https://media-tyo.hls.nhkworld.jp/hls/w/live/master.m3u8" },
        { n: "Arirang TV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Arirang_TV.png", u: "https://amdlive-ch01-g-ctnd-com.akamaized.net/arirang_1gch/arirang_1gch.smil/playlist.m3u8" },
        { n: "KBS World", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/KBS-World.png", u: "http://mytv.dothome.co.kr/ch/catv/7.php" },
        { n: "DW English", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Deutsche-Welle.png", u: "https://dwamdstream102.akamaized.net/hls/live/2015525/dwstream102/index.m3u8" },
        { n: "DW Español", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Deutsche-Welle.png", u: "https://dwamdstream104.akamaized.net/hls/live/2015530/dwstream104/index.m3u8" },
        { n: "DW Arabic", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Deutsche-Welle.png", u: "https://dwamdstream103.akamaized.net/hls/live/2015526/dwstream103/index.m3u8" },
        { n: "TV5 Monde", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TV5-Monde-Info.png", u: "https://ott.tv5monde.com/Content/HLS/Live/channel(info)/variant.m3u8" },
        { n: "BFM TV", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/BFM-TV.png", u: "https://live-cdn-stream-euw1.bfmtv.bct.nextradiotv.com/master.m3u8" },
        { n: "BFM Business", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/BFM-Business.png", u: "https://ncdn-live-bfm.pfd.sfr.net/shls/LIVE$BFM_BUSINESS/index.m3u8?start=LIVE&end=END" },
        { n: "TVE 24h", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVE-24h.png", u: "https://rtvelivestream.rtve.es/rtvesec/24h/24h_main_dvr.m3u8" },
        { n: "La 1", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/La1.png", u: "https://rtvelivestream.rtve.es/rtvesec/la1/la1_main_dvr.m3u8" },
        { n: "La 2", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/La2.png", u: "https://rtvelivestream.rtve.es/rtvesec/la2/la2_main_dvr.m3u8" },
        { n: "TV Galicia", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/TVG.png", u: "https://crtvg-europa.flumotion.cloud/playlist.m3u8" },
        { n: "Canal Málaga", l: "https://do8ct5f1tsfs2.cloudfront.net/clients_logos/7246ea51ef514a518a2e5b0b3fb871a3.webp", u: "http://canalmalaga-tv-live.flumotion.com/playlist.m3u8" },
        { n: "Aragón TV", l: "https://static.wikia.nocookie.net/logopedia/images/1/12/Arag%C3%B3n_Internacional.png", u: "http://cartv.streaming.aranova.es/hls/live/aragontv_canal1.m3u8" },
        { n: "ETB 1", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/ETB-1.png", u: "https://multimedia.eitb.eus/live-content/etb1eus-hls/master.m3u8" },
        { n: "ETB 2", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/ETB-2.png", u: "https://multimedia.eitb.eus/live-content/etb2eus-hls/master.m3u8" },
        { n: "Canal Extremadura", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Canal-Extremadura.png", u: "https://canalextremadura-live.flumotion.cloud/canalextremadura/live_all/playlist_dvr.m3u8" },
        { n: "Cubavisión", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Cubavisión-Internacional.png", u: "https://cdn.teveo.cu/live/video/A36pWmuWvZBQskuZ/ngrp:gppfydfzpSUn9Udy.stream/playlist.m3u8" },
        { n: "Azteca", l: "https://upload.wikimedia.org/wikipedia/commons/e/eb/Azteca_Internacional_logo_2023.png", u: "https://azt-mun.otteravision.com/azt/mun/mun.m3u8" },
        { n: "Rai News 24", l: "https://raw.githubusercontent.com/LITUATUI/M3UPT/main/logos/Rai-News-24.png", u: "https://8e7439fdb1694c8da3a0fd63e4dda518.msvdn.net/rainews1/hls/playlist_mo.m3u8" },
        { n: "Rakuten Fam", l: "https://i.imgur.com/Meew6eX.png", u: "https://48faa1daf24549fab34594bc5bdd99f2.mediatailor.eu-west-1.amazonaws.com/v1/master/0547f18649bd788bec7b67b746e47670f558b6b2/production-LiveChannel-6213/master.m3u8" }
    ];

    const grid = document.getElementById('lista-canais');
    var player = null;

    // Função para iniciar/mudar o canal
    function carregarCanal(url) {
        // Se já houver um player, destrói-o para limpar o anterior (Youtube ou HLS)
        if (player) {
            player.destroy();
            player = null;
        }

        // Cria um novo player com o URL clicado
        player = new Clappr.Player({
            source: url,
            parentId: "#player",
            width: "100%",
            height: "100%",
            autoPlay: true,
            plugins: [YoutubePlayback], // Necessário para links do Youtube
            playback: {
                hlsjsConfig: {
                    xhrSetup: function(xhr) { 
                        // Tenta permitir cross-origin, mas depende do servidor do canal
                        xhr.withCredentials = false; 
                    }
                }
            }
        });
    }

    // Inicializa com o primeiro canal da lista ao abrir a página
    carregarCanal(canais[0].u);

    // Cria os botões na lista
    canais.forEach(canal => {
        const div = document.createElement('div');
        div.className = 'channel-item';
        div.title = canal.n;
        div.onclick = () => carregarCanal(canal.u); // Chama a função corrigida
        
        const img = document.createElement('img');
        img.src = canal.l;
        img.alt = canal.n;
        img.onerror = function() { this.src = 'https://via.placeholder.com/80?text=?'; };
        
        div.appendChild(img);
        grid.appendChild(div);
    });

</script>

</body>
</html>